# 📖 프로젝트 소개


## 핵심 컨셉

### 1. 감정의 시각화
추상적인 감정을 구체적인 캐릭터와 게임 요소로 표현합니다. 7가지 감정(기쁨, 사랑, 놀람, 두려움, 분노, 부끄러움, 슬픔)은 각각 고유한 색상과 성격을 가진 주민 캐릭터로 나타납니다.

### 2. 게임화(Gamification)
일기 작성이 재미있고 지속 가능하도록 게임 요소를 추가했습니다:
- 행복 나무가 자라나고 열매를 맺음
- 스트레스 우물의 물이 변화함
- 감정 주민들이 대화를 나눔
- 편지와 메시지를 받음

### 3. AI 기반 분석
GPT-4o-mini와 ML 모델을 활용한 정확한 감정 분석:
- **GPT-4o-mini**: 최종 감정 분석 및 대화 생성 (실제 사용)
- **ML 모델**: 참고용 감정 분석 제공

### 4. 커뮤니케이션
감정 주민들과의 대화를 통한 자기 이해 도움. 일기에 대한 주민들의 다양한 관점을 통해 자신의 감정을 객관적으로 바라볼 수 있습니다.

## 작동 방식

일기를 작성하면 자동으로 다음 과정이 진행됩니다:

### 1. 🤖 AI 감정 분석
- GPT-4o-mini가 일기 내용을 읽고 7가지 감정에 대한 점수를 산출
- 각 감정은 0~100점으로 표시되며, 여러 감정이 동시에 존재할 수 있음
- 참고용으로 ML 모델 분석 결과도 제공 (비교용)

### 2. 👥 감정 주민 대화 생성
- 감정 분석 결과를 바탕으로 GPT-4o-mini가 감정 주민들의 대화 생성
- 각 주민은 고유한 성격과 말투를 가짐
- 일기 내용에 대해 주민들이 서로 의견을 나누는 형태

### 3. 🌳 행복 나무 성장
- 긍정적인 감정(기쁨, 사랑, 긍정적 놀람/부끄러움)이 쌓이면 나무가 자라남
- 나무가 일정 단계까지 성장하면 열매가 열림
- 열매 수집을 통해 성취감 제공

### 4. 💧 스트레스 우물 변화
- 부정적인 감정(분노, 슬픔, 두려움, 부정적 놀람/부끄러움)이 쌓이면 우물에 물이 차오름
- 물이 가득 차면 넘치고, 주민들이 위로 편지를 보냄
- 긍정적 감정만 있을 경우 물이 30점 줄어듦

### 5. 💌 감정 주민 편지
- 특정 감정 점수가 70점 이상이면 해당 감정 주민이 편지 전송
- 행복 열매가 열릴 때 축하 편지
- 우물이 넘칠 때 위로 편지

## 기술적 특징

### 하이브리드 감정 분석
GPT-4o-mini와 ML 모델을 함께 사용합니다:
- **GPT-4o-mini**: 최종 감정 분석 (실제 시스템 사용)
- **ML 모델**: 참고용 분석 (사용자가 비교 가능)

### 문맥 기반 감정 분류
"놀람"과 "부끄러움"은 문맥에 따라 긍정/부정으로 구분됩니다:
- **Rule-based 분석**: 키워드 패턴 매칭
- **GPT 기반 분석**: 문맥 이해
- 두 결과를 결합하여 최종 극성 결정

### 실시간 대화 생성
GPT를 활용한 자연스러운 캐릭터 대화:
- 각 주민의 고유한 성격과 말투 반영
- 감정 점수에 따라 주요 감정과 반응 감정 구분
- 일기 내용에 대한 다양한 관점 제공

### 유사 일기 검색
Doc2Vec 기반으로 과거 유사한 감정의 일기 찾기:
- 텍스트 유사도 + 감정 점수 유사도 결합
- 자기 이해와 감정 패턴 파악에 도움

### 캐시 최적화
모듈 레벨 캐싱으로 빠른 페이지 전환:
- 페이지 전환 시 즉시 데이터 표시
- 불필요한 API 호출 최소화

## 대략적인 프로젝트 구조

```
moodtown/
├── backend/                 # Flask 백엔드
│   ├── api/                # API 라우트
│   ├── services/           # 비즈니스 로직
│   ├── core/               # 공통 모듈
│   └── db.py              # 데이터베이스 연결
├── frontend/              # React 프론트엔드
│   └── src/
│       ├── pages/         # 페이지 컴포넌트
│       ├── components/    # 재사용 컴포넌트
│       └── utils/         # 유틸리티 함수
└── docs/                  # 문서
```

자세한 구조는 [프로젝트 구조](#)를 참고하세요.

